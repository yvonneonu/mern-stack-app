(()=>{var e={};e.id=253,e.ids=[253],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},3253:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=s(482),n=s(9108),a=s(2563),i=s.n(a),o=s(8300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["sign-in",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2965)),"C:\\Users\\yvonn\\Downloads\\C\\mern-bookin-app\\frontend\\app\\sign-in\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,2917)),"C:\\Users\\yvonn\\Downloads\\C\\mern-bookin-app\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\yvonn\\Downloads\\C\\mern-bookin-app\\frontend\\app\\sign-in\\page.tsx"],u="/sign-in/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/sign-in/page",pathname:"/sign-in",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4863:(e,t,s)=>{Promise.resolve().then(s.bind(s,7594))},5946:(e,t,s)=>{Promise.resolve().then(s.bind(s,4180))},2416:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},4300:(e,t,s)=>{"use strict";s.d(t,{i:()=>c,b:()=>u});var r=s(5344),n=s(3729),a=s.n(n),i=s(165);let o=({message:e,type:t,onClose:s})=>((0,n.useEffect)(()=>{let e=setTimeout(()=>{s()},5e3);return()=>{clearTimeout(e)}},[s]),r.jsx("div",{className:"SUCCESS"===t?"fixed top-4 right-4 z-50 p-4 rounded-md bg-green-600 text-white max-w-md":"fixed top-4 right-4 z-50 p-4 rounded-md bg-red-600 text-white max-w-md",children:r.jsx("div",{className:"flex justify-center items-center",children:r.jsx("span",{className:"text-lg font-semibold",children:e})})}));var l=s(5703);let d=a().createContext(void 0),c=({children:e})=>{let[t,s]=(0,n.useState)(void 0),{isError:a}=(0,i.useQuery)("validateToken",l.Rp,{retry:!1});return(0,r.jsxs)(d.Provider,{value:{showToast:e=>{s(e)},isLoggedIn:!a},children:[t&&r.jsx(o,{message:t.message,type:t.type,onClose:()=>s(void 0)}),e]})},u=()=>(0,n.useContext)(d)},7594:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(5344),n=s(3643),a=s.n(n);s(4047),s(3729);var i=s(6506),o=s(4300),l=s(165),d=s(5703);let c=()=>{let e=(0,l.useQueryClient)(),{showToast:t}=(0,o.b)(),s=(0,l.useMutation)(d.w7,{onSuccess:async()=>{await e.invalidateQueries("validateToken"),t({message:"Signed Out!",type:"SUCCESS"})},onError:e=>{t({message:e.message,type:"ERROR"})}});return r.jsx("button",{onClick:()=>{s.mutate()},className:"text-blue-600 px-3 font-bold bg-white hover:bg-gray-100 ",children:"Sign Out"})},u=()=>{let{isLoggedIn:e}=(0,o.b)();return r.jsx("div",{className:"bg-blue-800 py-6",children:(0,r.jsxs)("div",{className:"container mx-auto flex justify-between",children:[r.jsx("span",{className:"text-3xl text-white font-bold tracking-tight",children:r.jsx(i.default,{href:"/",children:"MernHolidays.com"})}),r.jsx("span",{className:"flex space-x-2",children:e?(0,r.jsxs)(r.Fragment,{children:[r.jsx(i.default,{className:"flex items-center text-white px-3 font-bold hover:bg-blue-600",href:"/my-bookings",children:"My Bookings"}),r.jsx(i.default,{className:"flex items-center text-white px-3 font-bold hover:bg-blue-600",href:"/my-hotels",children:"My Hotels"}),r.jsx(c,{})]}):r.jsx(i.default,{href:"/sign-in",className:"flex bg-white items-center text-blue-600 px-3 font-bold hover:bg-gray-100",children:"Sign In"})})]})})},x=()=>r.jsx("div",{className:"bg-blue-800 pb-16",children:(0,r.jsxs)("div",{className:"container mx-auto flex flex-col gap-2",children:[r.jsx("h1",{className:"text-5xl text-white font-bold",children:"Find your next stay"}),r.jsx("p",{className:"text-2xl text-white",children:"Search low prices on hotels for your dream vacation..."})]})}),p=()=>r.jsx("div",{className:"bg-blue-800 py-10",children:(0,r.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[r.jsx("span",{className:"text-3xl text-white font-bold tracking-tight",children:"MernHolidays.com"}),(0,r.jsxs)("span",{className:"text-white font-bold tracking-tight flex gap-4",children:[r.jsx("p",{className:"cursor-pointer",children:"Privacy Policy"}),r.jsx("p",{className:"cursor-pointer",children:"Terms of Service"})]})]})}),m=new l.QueryClient({defaultOptions:{queries:{retry:0}}});function h({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:a().className,children:r.jsx(l.QueryClientProvider,{client:m,children:(0,r.jsxs)(o.i,{children:[r.jsx(u,{}),r.jsx(x,{}),e,r.jsx(p,{})]})})})})}},5703:(e,t,s)=>{"use strict";s.d(t,{Rp:()=>i,w7:()=>o,z2:()=>n,zB:()=>a});let r=process.env.NEXT_APP_API_BASE_URL||"",n=async e=>{let t=await fetch(`${r}/api/users/register`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();if(!t.ok)throw Error(s.message)},a=async e=>{let t=await fetch(`${r}/api/auth/login`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();if(!t.ok)throw Error(s.message);return s},i=async()=>{let e=await fetch(`${r}/api/auth/validate-token`,{credentials:"include"});if(!e.ok)throw Error("Invalid token");return e.json()},o=async()=>{let e=await fetch(`${r}/api/auth/logout`,{credentials:"include",method:"POST"});if(!e.ok)throw Error("Error during sign out");return e.json()}},4180:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(5344),n=s(708),a=s(165),i=s(5703),o=s(4300),l=s(6506),d=s(8428);let c=()=>{let{showToast:e}=(0,o.b)(),t=(0,a.useQueryClient)(),s=(0,d.useRouter)(),{register:c,formState:{errors:u},handleSubmit:x}=(0,n.cI)(),p=(0,a.useMutation)(i.zB,{onSuccess:async()=>{e({message:"Sign in Successful!",type:"SUCCESS"}),await t.invalidateQueries("validateToken"),s.push("/")},onError:t=>{e({message:t.message,type:"ERROR"})}}),m=x(e=>{p.mutate(e)});return(0,r.jsxs)("form",{className:"container flex flex-col gap-5",onSubmit:m,children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Sign In"}),(0,r.jsxs)("label",{className:"text-gray-700 text-sm font-bold flex-1",children:["Email",r.jsx("input",{type:"email",className:"border rounded w-full py-1 px-2 font-normal",...c("email",{required:"This field is required"})}),u.email&&r.jsx("span",{className:"text-red-500",children:u.email.message})]}),(0,r.jsxs)("label",{className:"text-gray-700 text-sm font-bold flex-1",children:["Password",r.jsx("input",{type:"password",className:"border rounded w-full py-1 px-2 font-normal",...c("password",{required:"This field is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),u.password&&r.jsx("span",{className:"text-red-500",children:u.password.message})]}),(0,r.jsxs)("span",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-sm",children:["Not Registered?"," ",r.jsx(l.default,{className:"underline",href:"/register",children:"Create an account here"})]}),r.jsx("button",{type:"submit",className:"bg-blue-600 text-white p-2 font-bold hover:bg-blue-500 text-xl",children:"Login"})]})]})}},2917:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>a,__esModule:()=>n,default:()=>i});let r=(0,s(6843).createProxy)(String.raw`C:\Users\yvonn\Downloads\C\mern-bookin-app\frontend\app\layout.tsx`),{__esModule:n,$$typeof:a}=r,i=r.default},2965:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>a,__esModule:()=>n,default:()=>i});let r=(0,s(6843).createProxy)(String.raw`C:\Users\yvonn\Downloads\C\mern-bookin-app\frontend\app\sign-in\page.tsx`),{__esModule:n,$$typeof:a}=r,i=r.default},7481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(337);let n=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},4047:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,481,337,865],()=>s(3253));module.exports=r})();