(()=>{var e={};e.id=165,e.ids=[165],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7499:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var r=s(482),n=s(9108),i=s(2563),o=s.n(i),a=s(8300),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);s.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2917)),"C:\\Users\\yvonn\\Downloads\\C\\mern-bookin-app\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],c=[],u="/_not-found",x={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/_not-found",pathname:"/_not-found",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4863:(e,t,s)=>{Promise.resolve().then(s.bind(s,7594))},2416:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},4300:(e,t,s)=>{"use strict";s.d(t,{i:()=>c,b:()=>u});var r=s(5344),n=s(3729),i=s.n(n),o=s(165);let a=({message:e,type:t,onClose:s})=>((0,n.useEffect)(()=>{let e=setTimeout(()=>{s()},5e3);return()=>{clearTimeout(e)}},[s]),r.jsx("div",{className:"SUCCESS"===t?"fixed top-4 right-4 z-50 p-4 rounded-md bg-green-600 text-white max-w-md":"fixed top-4 right-4 z-50 p-4 rounded-md bg-red-600 text-white max-w-md",children:r.jsx("div",{className:"flex justify-center items-center",children:r.jsx("span",{className:"text-lg font-semibold",children:e})})}));var l=s(5703);let d=i().createContext(void 0),c=({children:e})=>{let[t,s]=(0,n.useState)(void 0),{isError:i}=(0,o.useQuery)("validateToken",l.Rp,{retry:!1});return(0,r.jsxs)(d.Provider,{value:{showToast:e=>{s(e)},isLoggedIn:!i},children:[t&&r.jsx(a,{message:t.message,type:t.type,onClose:()=>s(void 0)}),e]})},u=()=>(0,n.useContext)(d)},7594:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(5344),n=s(3643),i=s.n(n);s(4047),s(3729);var o=s(6506),a=s(4300),l=s(165),d=s(5703);let c=()=>{let e=(0,l.useQueryClient)(),{showToast:t}=(0,a.b)(),s=(0,l.useMutation)(d.w7,{onSuccess:async()=>{await e.invalidateQueries("validateToken"),t({message:"Signed Out!",type:"SUCCESS"})},onError:e=>{t({message:e.message,type:"ERROR"})}});return r.jsx("button",{onClick:()=>{s.mutate()},className:"text-blue-600 px-3 font-bold bg-white hover:bg-gray-100 ",children:"Sign Out"})},u=()=>{let{isLoggedIn:e}=(0,a.b)();return r.jsx("div",{className:"bg-blue-800 py-6",children:(0,r.jsxs)("div",{className:"container mx-auto flex justify-between",children:[r.jsx("span",{className:"text-3xl text-white font-bold tracking-tight",children:r.jsx(o.default,{href:"/",children:"MernHolidays.com"})}),r.jsx("span",{className:"flex space-x-2",children:e?(0,r.jsxs)(r.Fragment,{children:[r.jsx(o.default,{className:"flex items-center text-white px-3 font-bold hover:bg-blue-600",href:"/my-bookings",children:"My Bookings"}),r.jsx(o.default,{className:"flex items-center text-white px-3 font-bold hover:bg-blue-600",href:"/my-hotels",children:"My Hotels"}),r.jsx(c,{})]}):r.jsx(o.default,{href:"/sign-in",className:"flex bg-white items-center text-blue-600 px-3 font-bold hover:bg-gray-100",children:"Sign In"})})]})})},x=()=>r.jsx("div",{className:"bg-blue-800 pb-16",children:(0,r.jsxs)("div",{className:"container mx-auto flex flex-col gap-2",children:[r.jsx("h1",{className:"text-5xl text-white font-bold",children:"Find your next stay"}),r.jsx("p",{className:"text-2xl text-white",children:"Search low prices on hotels for your dream vacation..."})]})}),h=()=>r.jsx("div",{className:"bg-blue-800 py-10",children:(0,r.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[r.jsx("span",{className:"text-3xl text-white font-bold tracking-tight",children:"MernHolidays.com"}),(0,r.jsxs)("span",{className:"text-white font-bold tracking-tight flex gap-4",children:[r.jsx("p",{className:"cursor-pointer",children:"Privacy Policy"}),r.jsx("p",{className:"cursor-pointer",children:"Terms of Service"})]})]})}),m=new l.QueryClient({defaultOptions:{queries:{retry:0}}});function p({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:i().className,children:r.jsx(l.QueryClientProvider,{client:m,children:(0,r.jsxs)(a.i,{children:[r.jsx(u,{}),r.jsx(x,{}),e,r.jsx(h,{})]})})})})}},5703:(e,t,s)=>{"use strict";s.d(t,{Rp:()=>o,w7:()=>a,z2:()=>n,zB:()=>i});let r=process.env.NEXT_APP_API_BASE_URL||"",n=async e=>{let t=await fetch(`${r}/api/users/register`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();if(!t.ok)throw Error(s.message)},i=async e=>{let t=await fetch(`${r}/api/auth/login`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();if(!t.ok)throw Error(s.message);return s},o=async()=>{let e=await fetch(`${r}/api/auth/validate-token`,{credentials:"include"});if(!e.ok)throw Error("Invalid token");return e.json()},a=async()=>{let e=await fetch(`${r}/api/auth/logout`,{credentials:"include",method:"POST"});if(!e.ok)throw Error("Error during sign out");return e.json()}},2917:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});let r=(0,s(6843).createProxy)(String.raw`C:\Users\yvonn\Downloads\C\mern-bookin-app\frontend\app\layout.tsx`),{__esModule:n,$$typeof:i}=r,o=r.default},4047:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,481],()=>s(7499));module.exports=r})();