(()=>{var e={};e.id=11,e.ids=[11],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},6766:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=s(482),a=s(9108),n=s(2563),i=s.n(n),o=s(8300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1996)),"C:\\Users\\yvonn\\Downloads\\C\\mern-bookin-app\\frontend\\app\\register\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,2917)),"C:\\Users\\yvonn\\Downloads\\C\\mern-bookin-app\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\yvonn\\Downloads\\C\\mern-bookin-app\\frontend\\app\\register\\page.tsx"],u="/register/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/register/page",pathname:"/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4863:(e,t,s)=>{Promise.resolve().then(s.bind(s,7594))},4860:(e,t,s)=>{Promise.resolve().then(s.bind(s,500))},2416:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},4300:(e,t,s)=>{"use strict";s.d(t,{i:()=>c,b:()=>u});var r=s(5344),a=s(3729),n=s.n(a),i=s(165);let o=({message:e,type:t,onClose:s})=>((0,a.useEffect)(()=>{let e=setTimeout(()=>{s()},5e3);return()=>{clearTimeout(e)}},[s]),r.jsx("div",{className:"SUCCESS"===t?"fixed top-4 right-4 z-50 p-4 rounded-md bg-green-600 text-white max-w-md":"fixed top-4 right-4 z-50 p-4 rounded-md bg-red-600 text-white max-w-md",children:r.jsx("div",{className:"flex justify-center items-center",children:r.jsx("span",{className:"text-lg font-semibold",children:e})})}));var l=s(5703);let d=n().createContext(void 0),c=({children:e})=>{let[t,s]=(0,a.useState)(void 0),{isError:n}=(0,i.useQuery)("validateToken",l.Rp,{retry:!1});return(0,r.jsxs)(d.Provider,{value:{showToast:e=>{s(e)},isLoggedIn:!n},children:[t&&r.jsx(o,{message:t.message,type:t.type,onClose:()=>s(void 0)}),e]})},u=()=>(0,a.useContext)(d)},7594:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(5344),a=s(3643),n=s.n(a);s(4047),s(3729);var i=s(6506),o=s(4300),l=s(165),d=s(5703);let c=()=>{let e=(0,l.useQueryClient)(),{showToast:t}=(0,o.b)(),s=(0,l.useMutation)(d.w7,{onSuccess:async()=>{await e.invalidateQueries("validateToken"),t({message:"Signed Out!",type:"SUCCESS"})},onError:e=>{t({message:e.message,type:"ERROR"})}});return r.jsx("button",{onClick:()=>{s.mutate()},className:"text-blue-600 px-3 font-bold bg-white hover:bg-gray-100 ",children:"Sign Out"})},u=()=>{let{isLoggedIn:e}=(0,o.b)();return r.jsx("div",{className:"bg-blue-800 py-6",children:(0,r.jsxs)("div",{className:"container mx-auto flex justify-between",children:[r.jsx("span",{className:"text-3xl text-white font-bold tracking-tight",children:r.jsx(i.default,{href:"/",children:"MernHolidays.com"})}),r.jsx("span",{className:"flex space-x-2",children:e?(0,r.jsxs)(r.Fragment,{children:[r.jsx(i.default,{className:"flex items-center text-white px-3 font-bold hover:bg-blue-600",href:"/my-bookings",children:"My Bookings"}),r.jsx(i.default,{className:"flex items-center text-white px-3 font-bold hover:bg-blue-600",href:"/my-hotels",children:"My Hotels"}),r.jsx(c,{})]}):r.jsx(i.default,{href:"/sign-in",className:"flex bg-white items-center text-blue-600 px-3 font-bold hover:bg-gray-100",children:"Sign In"})})]})})},x=()=>r.jsx("div",{className:"bg-blue-800 pb-16",children:(0,r.jsxs)("div",{className:"container mx-auto flex flex-col gap-2",children:[r.jsx("h1",{className:"text-5xl text-white font-bold",children:"Find your next stay"}),r.jsx("p",{className:"text-2xl text-white",children:"Search low prices on hotels for your dream vacation..."})]})}),m=()=>r.jsx("div",{className:"bg-blue-800 py-10",children:(0,r.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[r.jsx("span",{className:"text-3xl text-white font-bold tracking-tight",children:"MernHolidays.com"}),(0,r.jsxs)("span",{className:"text-white font-bold tracking-tight flex gap-4",children:[r.jsx("p",{className:"cursor-pointer",children:"Privacy Policy"}),r.jsx("p",{className:"cursor-pointer",children:"Terms of Service"})]})]})}),p=new l.QueryClient({defaultOptions:{queries:{retry:0}}});function h({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:n().className,children:r.jsx(l.QueryClientProvider,{client:p,children:(0,r.jsxs)(o.i,{children:[r.jsx(u,{}),r.jsx(x,{}),e,r.jsx(m,{})]})})})})}},500:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(5344),a=s(708),n=s(165),i=s(5703),o=s(4300),l=s(8428);let d=()=>{let e=(0,n.useQueryClient)(),{showToast:t}=(0,o.b)(),s=(0,l.useRouter)(),{register:d,watch:c,handleSubmit:u,formState:{errors:x}}=(0,a.cI)(),m=(0,n.useMutation)(i.z2,{onSuccess:async()=>{t({message:"Registration Success!",type:"SUCCESS"}),await e.invalidateQueries("validateToken"),s.push("/")},onError:e=>{t({message:e.message,type:"ERROR"})}}),p=u(e=>{m.mutate(e)});return(0,r.jsxs)("form",{className:"container mx-auto py-5 flex flex-col gap-5",onSubmit:p,children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Create an Account"}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-5",children:[(0,r.jsxs)("label",{className:"text-gray-700 text-sm font-bold flex-1",children:["First Name",r.jsx("input",{className:"border rounded w-full py-1 px-2 font-normal",...d("firstName",{required:"This field is required"})}),x.firstName&&r.jsx("span",{className:"text-red-500",children:x.firstName.message})]}),(0,r.jsxs)("label",{className:"text-gray-700 text-sm font-bold flex-1",children:["Last Name",r.jsx("input",{className:"border rounded w-full py-1 px-2 font-normal",...d("lastName",{required:"This field is required"})}),x.lastName&&r.jsx("span",{className:"text-red-500",children:x.lastName.message})]})]}),(0,r.jsxs)("label",{className:"text-gray-700 text-sm font-bold flex-1",children:["Email",r.jsx("input",{type:"email",className:"border rounded w-full py-1 px-2 font-normal",...d("email",{required:"This field is required"})}),x.email&&r.jsx("span",{className:"text-red-500",children:x.email.message})]}),(0,r.jsxs)("label",{className:"text-gray-700 text-sm font-bold flex-1",children:["Password",r.jsx("input",{type:"password",className:"border rounded w-full py-1 px-2 font-normal",...d("password",{required:"This field is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),x.password&&r.jsx("span",{className:"text-red-500",children:x.password.message})]}),(0,r.jsxs)("label",{className:"text-gray-700 text-sm font-bold flex-1",children:["Confirm Password",r.jsx("input",{type:"password",className:"border rounded w-full py-1 px-2 font-normal",...d("confirmPassword",{validate:e=>e?c("password")!==e?"Your passwords do no match":void 0:"This field is required"})}),x.confirmPassword&&r.jsx("span",{className:"text-red-500",children:x.confirmPassword.message})]}),r.jsx("span",{children:r.jsx("button",{type:"submit",className:"bg-blue-600 text-white p-2 font-bold hover:bg-blue-500 text-xl",children:"Create Account"})})]})}},5703:(e,t,s)=>{"use strict";s.d(t,{Rp:()=>i,w7:()=>o,z2:()=>a,zB:()=>n});let r=process.env.NEXT_APP_API_BASE_URL||"",a=async e=>{let t=await fetch(`${r}/api/users/register`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();if(!t.ok)throw Error(s.message)},n=async e=>{let t=await fetch(`${r}/api/auth/login`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();if(!t.ok)throw Error(s.message);return s},i=async()=>{let e=await fetch(`${r}/api/auth/validate-token`,{credentials:"include"});if(!e.ok)throw Error("Invalid token");return e.json()},o=async()=>{let e=await fetch(`${r}/api/auth/logout`,{credentials:"include",method:"POST"});if(!e.ok)throw Error("Error during sign out");return e.json()}},2917:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,s(6843).createProxy)(String.raw`C:\Users\yvonn\Downloads\C\mern-bookin-app\frontend\app\layout.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default},1996:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,s(6843).createProxy)(String.raw`C:\Users\yvonn\Downloads\C\mern-bookin-app\frontend\app\register\page.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default},7481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(337);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},4047:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,481,337,865],()=>s(6766));module.exports=r})();